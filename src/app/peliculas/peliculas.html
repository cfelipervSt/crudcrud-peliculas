<h2>Gestión de Películas</h2>

<form (ngSubmit)="guardarPelicula()">
  <input
    type="text"
    placeholder="Título"
    [(ngModel)]="pelicula.titulo"
    name="titulo"
    required
  />
  <textarea
    type="string"
    placeholder="Reseña corta porfavor =)"
    [(ngModel)]="pelicula.descripcion"
    name="descripcion"
    required
  ></textarea>

  <input
    type="string"
    placeholder="classificacion"
    [(ngModel)]="pelicula.classificacion"
    name="classificacion"
    required
  />

  <input
    type="string"
    placeholder="genero"
    [(ngModel)]="pelicula.genero"
    name="genero"
    required
  />

  <input
    type="text"
    placeholder="Director"
    [(ngModel)]="pelicula.director"
    name="director"
    required
  />

  <input
    type="number"
    placeholder="Año"
    [(ngModel)]="pelicula.anio"
    name="anio"
    required
  />
  <button type="submit">
    {{ editando ? 'Actualizar' : 'Guardar' }}
  </button>
</form>

<hr>

<table border="1">
  <tr>
    <th>Título</th>
    <th>Descrpcion</th>
    <th>classificacion</th>
    <th>genero</th>
    <th>Director</th>
    <th>Año</th>
    <th>Acciones</th>
  </tr>

  <tr *ngFor="let p of peliculas">
    <td>{{ p.titulo }}</td>
    <td>{{ p.descripcion}}</td>
    <td>{{ p.classificacion }}</td>
    <td>{{ p.genero }}</td>
    <td>{{ p.director }}</td>
    <td>{{ p.anio }}</td>
    <td>
      <button (click)="editarPelicula(p)">Editar</button>
      <button (click)="eliminarPelicula(p._id!)">Eliminar</button>
    </td>
  </tr>
</table>
